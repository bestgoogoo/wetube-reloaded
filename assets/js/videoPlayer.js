(()=>{var e=document.querySelector("video"),t=document.getElementById("play"),n=document.getElementById("mute"),u=document.getElementById("volume"),d=document.getElementById("currenTime"),i=document.getElementById("totalTime"),o=document.getElementById("timeline"),r=document.getElementById("fullscreen"),l=document.getElementById("videoContainer"),a=document.getElementById("videoControls"),m=.5;e.volume=m;var c=function(){e.paused?e.play():e.pause(),t.innerText=e.paused?"Play":"Pause"},s=function(e){return new Date(1e3*e).toISOString().substring(14,19)},v=null,E=null,f=function(){return a.classList.remove("showing")};t.addEventListener("click",c),t.addEventListener("keyup",(function(e){" "===e.key&&c()})),n.addEventListener("click",(function(t){e.muted?e.muted=!1:e.muted=!0,n.innerText=e.muted?"Unmute":"Mute",u.value=e.muted?0:m})),u.addEventListener("input",(function(t){var u=t.target.value;e.muted&&(e.muted=!1,n.innerText="Mute"),m=u,e.volume=u})),o.addEventListener("input",(function(t){var n=t.target.value;e.currentTime=n})),r.addEventListener("click",(function(){document.fullscreenElement?(document.exitFullscreen(),r.innerText="Enter Full Screen"):(l.requestFullscreen(),r.innerText="Exit Full Screen")})),e.addEventListener("loadedmetadata",(function(){i.innerText=s(Math.floor(e.duration)),o.max=Math.floor(e.duration)})),e.addEventListener("timeupdate",(function(){d.innerText=s(Math.floor(e.currentTime)),o.value=Math.floor(e.currentTime)})),e.addEventListener("mousemove",(function(){v&&(clearTimeout(v),v=null),E&&(clearTimeout(E),E=null),a.classList.add("showing"),E=setTimeout(f,1e3)})),e.addEventListener("mouseleave",(function(){v=setTimeout(f,1e3)})),e.addEventListener("ended",(function(){var e=l.dataset.id;fetch("/api/videos/".concat(e,"/view"),{method:"POST"})}))})();